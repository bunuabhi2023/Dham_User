{% load static %}
<style>
    
    .near_by_home .owl-carousel .item {
        position: relative;
        border-radius: 8px; /* Border radius for the image container */
        overflow: hidden;
        display: flex;
        justify-content: center;
        width: 545px; /* Fixed width */
        height: 355px; /* Fixed height */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Bottom box shadow */
    }

    .near_by_home .owl-carousel .item img {
        border-radius: 8px; /* Border radius for the image */
        width: 100%;
        height: 100%; /* Ensure image fills the container */
        object-fit: cover; /* Maintain aspect ratio, fill the container */
    }

    .overlay {
        
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%; /* Overlay matches image size */
        padding: 10px;
        background: linear-gradient(180deg, rgba(0, 0, 0, 0) 67.1%, rgba(0, 0, 0, 0.59) 81.16%, #000000 106.82%);
        color: #fff;
        text-align: center;
        border-radius: 0 0 8px 8px; /* Round the bottom corners */
        z-index: 1; /* Ensure overlay is on top */
        display: flex;
        flex-direction: column;
        justify-content: flex-end; /* Align text at the bottom */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Bottom box shadow */
    }

    .owl-theme .overlay .property_desc {
        font-family: Inter;
        font-size: 14px;
        font-weight: 400;
        line-height: 19.36px;
        text-align: left;
        color:#ffffff;

    }
    .overlay .property_title{
        font-family: Inter;
        font-size: 22px;
        font-weight: 600;
        line-height: 26px;
        text-align: left;
        Color:#ffffff;

    }

    @media (max-width: 992px) {
        /* Styles for tablets */
        .near_by_home .owl-carousel .item {
            width: 100%;
            margin: 0 auto;
        }
    }

    @media (min-width: 992px) {
        .near_by_home .owl-carousel .owl-item {
            flex: 0 0 auto;
            margin-right: 5px; /* Reduce gap between items */
        }
    }

    .near_by_home .owl-carousel .owl-stage {
        padding-left: 0px !important;
        padding-right: 0px !important;
    }
    .section_top_reated{
        padding: 135px 0;
    }
    .h2_title_span{
        color:var(--theme-red-color);
        font-family: Jomhuria;
        font-size: 56px;
        font-weight: 400;
        line-height: 40px;
        text-align: left;

    }
    .h2_title{
        max-width: 350px;
        letter-spacing: 1px;
        font-family: Jomhuria;
        font-size: 56px;
        font-weight: 400;
        line-height: 40px;
        text-align: left;
        color: #FA9300 !important;
    }
    #section_top_reated {
        position: relative;
        padding: 145px 0 30px 0;
        background-color: #f8f8f8;
        overflow: hidden;
    }

    /* Left SVG Background */
    #section_top_reated::before {
        content: '';
        position: absolute;
        top: 80px; 
        left: 0;
        width: 200px; /* Adjust width as needed */
        height: 100%;
        background: url("{% static 'img/top_item_left_hand_bg.svg' %}") no-repeat left top;
        background-size: contain; /* Make sure the SVG scales appropriately */
        z-index: 0; /* Place behind content */
        background-repeat: no-repeat;
    }

    /* Right SVG Background */
    #section_top_reated::after {
        content: '';
        position: absolute;
        top: 42px;
        right: 0;
        width: 200px; /* Adjust width as needed */
        height: 100%;
        background: url("{% static 'img/top_item_right_hand_bg.svg.svg' %}") no-repeat right top;
        background-size: contain; /* Make sure the SVG scales appropriately */
        z-index: 0; /* Place behind content */
    }

    .section_top_reated .container {
        position: relative;
        z-index: 1; /* Ensure content is above the background */
    }
</style>

<section id="section_top_reated" class="section_top_reated" data-aos="fade-up" data-aos-delay="100" >

    <div class="container pt-3 pb-5"  data-aos="fade-up" data-aos-delay="100">
        <div class="row">
            <div class="col">
                <h2 class="h2_title"><span class="h2_title_span">Home</span> Accommodations Near<span class="h2_title_span"> You</span></h2>
            </div>
            <div class="col">
                <p class="p-text">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium.</p>
            </div>    

        </div>   
    </div> 
    <div class="container" data-aos="fade-up" data-aos-delay="100">  
        <div class="container near_by_home">  
            <div class="owl-carousel owl-theme">
                {% if city_data %}
                {% for city in city_data.cities %}
                <div class="item">
                    <img src="{{ city.file.Url }}" alt="{{ city.name }}">
                    <div class="overlay">
                        <div class="property_title">{{ city.name }}</div>
                        <div class="property_desc"><i class="bi bi-houses-fill"></i>{{ city.propertyCount }} Properties</div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}
            </div>
        </div> 
    </div>   
</section>

<script>
    $(document).ready(function(){
        $('.near_by_home .owl-carousel').owlCarousel({
            loop: true,
            margin: 10,
            nav: true,
            items:  1,  // Default to 2 images at a time
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 1
                },
                992: {
                    items: 2,  // Show 2 images on large screens
                    stagePadding: 80,  // Adjust stage padding for large screens
                    margin: 10
                }
            }
        });
    });
</script>
